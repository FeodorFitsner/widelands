#!/usr/bin/python


"""
This catches a comma that is followed by another character than a space, for
example "a,b,c", which should be "a, b, c". It is a little complex because it
should not catch commas in string constants or character constants.
"""


regexp = r"""^([^/#"']|/([^/"']|"([^"]|\\")*"|'(\\[\'nt]|[^\'])')|"([^"\]|\\"|\\[^"])*"|'(\\[\'nt]|[^\'])')*,[^ ]"""
error_msg = "A space is mandatory after ','"


forbidden = [
    "do_something('\t','u')",
    'do_something("\t","u")',
]

allowed = [
    '''do_something(",", ',')''',
    ' * We are inside a comment,',
]



