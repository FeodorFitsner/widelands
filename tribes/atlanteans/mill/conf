size=medium
output=corn_flour
output=blackroot_flour

[aihints]
prohibited_till=600

[buildcost]
log=3
stone=3
planks=2

[return_on_dismantle]
log=1
stone=2
planks=1

[working positions]
miller=1

[inputs]
corn=6
blackroot=6

[programs]
# TRANSLATORS: "Completed/Skipped/Did not start grinding corn because ...
produce_corn_flour=_grinding corn
# TRANSLATORS: "Completed/Skipped/Did not start grinding blackroot because ...
produce_blackroot_flour=_grinding blackroot
# TRANSLATORS: "Completed/Skipped/Did not start working because ...
work=_working

[produce_corn_flour]
return=skipped when site has blackroot and economy needs blackroot_flour and not economy needs corn_flour
return=skipped unless economy needs corn_flour
sleep=3500
consume=corn
animate=working 15000
produce=corn_flour

[produce_blackroot_flour]
return=skipped when site has corn and economy needs corn_flour and not economy needs blackroot_flour
# No check whether we need blackroot_flour because blackroots cannot be used for anything else.
sleep=3500
consume=blackroot
animate=working 15000
produce=blackroot_flour

[work]
call=produce_corn_flour
call=produce_blackroot_flour
return=skipped

[idle]
pics=mill_i_??.png
hotspot=58 61

[working]
pics=mill_b_??.png # lets see the mill turn!
hotspot=58 61
fps=25
