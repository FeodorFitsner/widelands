[global]
descname=_"Labyrinth"
type=training
size=big
buildable=yes
buildicon=labyrinth_build.png
worker=carrier
max_soldiers=8
train=defense,hp,evade
program=Sleep
program=upgrade_defense_0 # This is needed to run the scripts
program=upgrade_defense_1
program=upgrade_hp_0
program=upgrade_evade_0
program=upgrade_evade_1

[Sleep]
0=sleep 5000

[defense]
min_level=0
max_level=1

[hp]
min_level=0
max_level=0

[evade]
min_level=0
max_level=1

[upgrade_defense_0]
0=sleep 30000
1=check bread
2=check smoked_fish,smoked_meat
3=check steel_shield
4=check_soldier defense 0 # Fails when aren't any soldier of level 0 defense
5=consume bread
6=consume smoked_fish,smoked_meat
7=consume steel_shield
8=train defense 0 1

[upgrade_defense_1]
0=sleep 30000
1=check bread
2=check smoked_fish,smoked_meat
3=check advanced_shield
4=check_soldier defense 1 # Fails when aren't any soldier of level 1 defense
5=consume bread
6=consume smoked_fish,smoked_meat
7=consume advanced_shield
8=train defense 1 2

[upgrade_hp_0]
0=check smoked_fish,smoked_meat 2
1=check_soldier hp 0 # Fails when aren't any soldier of level 0 hp
2=sleep 30000
3=check_soldier hp 0 # Because the soldier can be expulsed by the player
4=consume smoked_fish,smoked_meat 2
5=train hp 0 1

[upgrade_evade_0]
0=check bread
1=check smoked_fish,smoked_meat 2
2=check_soldier evade 0 # Fails when aren't any soldier of level 0 evade
3=sleep 30000
4=check_soldier evade 0 # Because the soldier can be expulsed by the player
5=consume bread
6=consume smoked_fish,smoked_meat 2
7=train evade 0 1

[upgrade_evade_1]
0=check bread
1=check smoked_fish,smoked_meat 2
2=check_soldier evade 1 # Fails when aren't any soldier of level 1 evade
3=sleep 30000
4=check_soldier evade 1 # Because the soldier can be expulsed by the player
5=consume bread
6=consume smoked_fish,smoked_meat 2
7=train evade 1 2

[inputs]
bread=10
smoked_fish=6
smoked_meat=6
steel_shield=4
advanced_shield=4


[buildcost]
trunk=3
stone=4
planks=5
spidercloth=5
diamond=2
mountain_crystal=2

[idle]
pics=labyrinth_i_??.png  # ???
hotspot=82 88

[working]
pics=labyrinth_i_??.png  # ???
hotspot=82 88

[build]
pics=labyrinth_i_??.png  # ???
hotspot=82 88
